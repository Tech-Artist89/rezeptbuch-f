<!-- Header/Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow">
  <div class="container">
    <a class="navbar-brand fw-bold" href="#">
      <i class="bi bi-book me-2"></i>
      Rezeptbuch
    </a>
    
    <div class="navbar-nav ms-auto">
      <div class="nav-item dropdown">
        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" 
           data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person-circle me-2"></i>
          {{ currentUser?.username || 'Benutzer' }}
        </a>
        <ul class="dropdown-menu dropdown-menu-end">
          <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>Profil</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>Einstellungen</a></li>
          <li><hr class="dropdown-divider"></li>
          <li>
            <a class="dropdown-item text-danger" href="#" (click)="logout()">
              <i class="bi bi-box-arrow-right me-2"></i>Abmelden
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<!-- Main Content -->
<div class="container my-5">
  <!-- Welcome Section -->
  <div class="row mb-5">
    <div class="col-12">
      <div class="welcome-section bg-light rounded-3 p-5 text-center">
        <h1 class="display-5 fw-bold text-primary">
          <i class="bi bi-house-heart me-3"></i>
          Willkommen im Rezeptbuch!
        </h1>
        <p class="fs-5 text-muted mb-4">
          Hallo {{ currentUser?.username }}! Du bist erfolgreich eingeloggt.
        </p>
        <p class="text-muted">
          Hier kannst du deine Rezepte verwalten, Einkaufslisten erstellen und deinen Wochenplan organisieren.
        </p>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="row g-4 mb-5">
    <div class="col-md-4">
      <div class="card h-100 border-0 shadow-sm hover-card">
        <div class="card-body text-center p-4">
          <div class="mb-3">
            <i class="bi bi-journal-text text-primary feature-icon"></i>
          </div>
          <h5 class="card-title">Rezepte verwalten</h5>
          <p class="card-text text-muted">
            Erstelle, bearbeite und organisiere deine Lieblingsrezepte
          </p>
          <button class="btn btn-outline-primary">
            <i class="bi bi-arrow-right me-2"></i>Zu den Rezepten
          </button>
        </div>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="card h-100 border-0 shadow-sm hover-card">
        <div class="card-body text-center p-4">
          <div class="mb-3">
            <i class="bi bi-cart3 text-success feature-icon"></i>
          </div>
          <h5 class="card-title">Einkaufslisten</h5>
          <p class="card-text text-muted">
            Erstelle intelligente Einkaufslisten basierend auf deinen Rezepten
          </p>
          <button class="btn btn-outline-success">
            <i class="bi bi-arrow-right me-2"></i>Zu den Listen
          </button>
        </div>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="card h-100 border-0 shadow-sm hover-card">
        <div class="card-body text-center p-4">
          <div class="mb-3">
            <i class="bi bi-calendar-week text-warning feature-icon"></i>
          </div>
          <h5 class="card-title">Wochenplaner</h5>
          <p class="card-text text-muted">
            Plane deine Mahlzeiten für die ganze Woche im Voraus
          </p>
          <button class="btn btn-outline-warning">
            <i class="bi bi-arrow-right me-2"></i>Zum Planer
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Stats Section -->
  <div class="row g-4 mb-5">
    <div class="col-md-3">
      <div class="card border-0 bg-primary text-white stat-card">
        <div class="card-body text-center">
          <i class="bi bi-journal-text stat-icon"></i>
          <h4 class="mt-2 mb-0">0</h4>
          <small>Rezepte</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border-0 bg-success text-white stat-card">
        <div class="card-body text-center">
          <i class="bi bi-cart3 stat-icon"></i>
          <h4 class="mt-2 mb-0">0</h4>
          <small>Einkaufslisten</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border-0 bg-warning text-white stat-card">
        <div class="card-body text-center">
          <i class="bi bi-calendar-week stat-icon"></i>
          <h4 class="mt-2 mb-0">0</h4>
          <small>Geplante Mahlzeiten</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border-0 bg-info text-white stat-card">
        <div class="card-body text-center">
          <i class="bi bi-egg-fried stat-icon"></i>
          <h4 class="mt-2 mb-0">0</h4>
          <small>Zutaten</small>
        </div>
      </div>
    </div>
  </div>

  <!-- Debug Info -->
  <div class="row" *ngIf="debugMode">
    <div class="col-12">
      <div class="card border-primary">
        <div class="card-header bg-primary text-white">
          <h6 class="mb-0">
            <i class="bi bi-bug me-2"></i>
            Debug Information
          </h6>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-4">
              <strong>Eingeloggt:</strong> 
              <span [class]="isLoggedIn ? 'text-success' : 'text-danger'">
                {{ isLoggedIn ? 'Ja' : 'Nein' }}
              </span>
            </div>
            <div class="col-md-4">
              <strong>Token:</strong> 
              <span class="text-muted small">
                {{ token ? token.substring(0, 20) + '...' : 'Nicht vorhanden' }}
              </span>
            </div>
            <div class="col-md-4">
              <strong>Benutzer:</strong> 
              <span class="text-muted">
                {{ currentUser?.username || 'Nicht verfügbar' }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>