<!-- Dashboard Container -->
<div class="dashboard-container">
  <!-- Animated Background -->
  <div class="dashboard-bg">
    <div class="bg-orb orb-1"></div>
    <div class="bg-orb orb-2"></div>
    <div class="bg-orb orb-3"></div>
  </div>

  <!-- Navigation Header -->
  <nav class="dashboard-nav">
    <div class="nav-content">
      <!-- Brand -->
      <div class="nav-brand">
        <div class="brand-icon">
          <i class="bi bi-book"></i>
        </div>
        <span class="brand-text">Rezeptbuch</span>
      </div>

      <!-- User Menu -->
      <div class="user-menu">
        <div class="user-avatar" (click)="toggleUserMenu()">
          <i class="bi bi-person-circle"></i>
        </div>
        <div class="user-dropdown" [class.active]="showUserMenu">
          <div class="user-info">
            <div class="user-name">{{ currentUser?.username || 'Benutzer' }}</div>
            <div class="user-email">{{ currentUser?.email || 'email@example.com' }}</div>
          </div>
          <div class="dropdown-divider"></div>
          <a href="#" class="dropdown-item">
            <i class="bi bi-person"></i>
            <span>Profil</span>
          </a>
          <a href="#" class="dropdown-item">
            <i class="bi bi-gear"></i>
            <span>Einstellungen</span>
          </a>
          <div class="dropdown-divider"></div>
          <button class="dropdown-item logout" (click)="logout()">
            <i class="bi bi-box-arrow-right"></i>
            <span>Abmelden</span>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="dashboard-main">
    <!-- Welcome Hero Section -->
    <section class="welcome-hero">
      <div class="hero-content">
        <div class="hero-text">
          <h1 class="hero-title">
            <span class="gradient-text">Willkommen zurück,</span>
            <span class="user-name">{{ currentUser?.username }}!</span>
          </h1>
          <p class="hero-subtitle">
            Bereit für neue kulinarische Abenteuer? Deine Küche wartet auf dich.
          </p>
        </div>
        <div class="hero-visual">
          <div class="floating-card card-1">
            <i class="bi bi-journal-text"></i>
          </div>
          <div class="floating-card card-2">
            <i class="bi bi-cart3"></i>
          </div>
          <div class="floating-card card-3">
            <i class="bi bi-calendar-week"></i>
          </div>
        </div>
      </div>
    </section>

    <!-- Quick Actions Grid -->
    <section class="quick-actions">
      <h2 class="section-title">Schnellzugriff</h2>
      <div class="actions-grid">
        <!-- Recipes Action -->
        <div class="action-card recipes" routerLink="/recipes">
          <div class="card-bg"></div>
          <div class="card-content">
            <div class="card-icon">
              <i class="bi bi-journal-text"></i>
            </div>
            <h3 class="card-title">Rezepte</h3>
            <p class="card-description">
              Entdecke und verwalte deine Lieblingsrezepte
            </p>
            <div class="card-arrow">
              <i class="bi bi-arrow-right"></i>
            </div>
          </div>
        </div>

        <!-- Shopping Lists Action -->
        <div class="action-card shopping" routerLink="/shopping">
          <div class="card-bg"></div>
          <div class="card-content">
            <div class="card-icon">
              <i class="bi bi-cart3"></i>
            </div>
            <h3 class="card-title">Einkaufslisten</h3>
            <p class="card-description">
              Erstelle smarte Listen für deinen Einkauf
            </p>
            <div class="card-arrow">
              <i class="bi bi-arrow-right"></i>
            </div>
          </div>
        </div>

        <!-- Meal Planner Action -->
        <div class="action-card planner" routerLink="/planner">
          <div class="card-bg"></div>
          <div class="card-content">
            <div class="card-icon">
              <i class="bi bi-calendar-week"></i>
            </div>
            <h3 class="card-title">Wochenplaner</h3>
            <p class="card-description">
              plane deine Mahlzeiten für die ganze Woche
            </p>
            <div class="card-arrow">
              <i class="bi bi-arrow-right"></i>
            </div>
          </div>
        </div>

        <!-- Ingredients Action -->
        <div class="action-card ingredients" routerLink="/ingredients">
          <div class="card-bg"></div>
          <div class="card-content">
            <div class="card-icon">
              <i class="bi bi-egg-fried"></i>
            </div>
            <h3 class="card-title">Zutaten</h3>
            <p class="card-description">
              Verwalte deine Zutatenbibliothek
            </p>
            <div class="card-arrow">
              <i class="bi bi-arrow-right"></i>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Statistics Section -->
    <section class="statistics">
      <h2 class="section-title">Deine Küchen-Statistiken</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon recipes-icon">
            <i class="bi bi-journal-text"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number">0</div>
            <div class="stat-label">Rezepte</div>
          </div>
          <div class="stat-trend">
            <i class="bi bi-arrow-up"></i>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon shopping-icon">
            <i class="bi bi-cart3"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number">0</div>
            <div class="stat-label">Einkaufslisten</div>
          </div>
          <div class="stat-trend">
            <i class="bi bi-arrow-up"></i>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon planner-icon">
            <i class="bi bi-calendar-week"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number">0</div>
            <div class="stat-label">Geplante Mahlzeiten</div>
          </div>
          <div class="stat-trend">
            <i class="bi bi-arrow-up"></i>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon ingredients-icon">
            <i class="bi bi-egg-fried"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number">0</div>
            <div class="stat-label">Zutaten</div>
          </div>
          <div class="stat-trend">
            <i class="bi bi-arrow-up"></i>
          </div>
        </div>
      </div>
    </section>

    <!-- Recent Activity Section -->
    <section class="recent-activity">
      <h2 class="section-title">Letzte Aktivitäten</h2>
      <div class="activity-container">
        <div class="activity-placeholder">
          <div class="placeholder-icon">
            <i class="bi bi-clock-history"></i>
          </div>
          <h3>Noch keine Aktivitäten</h3>
          <p>Sobald du anfängst Rezepte zu erstellen oder zu planen, siehst du hier deine letzten Aktivitäten.</p>
          <button class="cta-button" routerLink="/recipes/new">
            <span>Erstes Rezept erstellen</span>
            <i class="bi bi-plus-circle"></i>
          </button>
        </div>
      </div>
    </section>

    <!-- Debug Section -->
    <section class="debug-section" *ngIf="debugMode">
      <div class="debug-card">
        <div class="debug-header">
          <i class="bi bi-bug"></i>
          <span>Debug Information</span>
        </div>
        <div class="debug-grid">
          <div class="debug-item">
            <span class="debug-label">Eingeloggt:</span>
            <span [class]="'debug-value ' + (isLoggedIn ? 'success' : 'error')">
              {{ isLoggedIn ? 'Ja' : 'Nein' }}
            </span>
          </div>
          <div class="debug-item">
            <span class="debug-label">Token:</span>
            <span class="debug-value">
              {{ token ? token.substring(0, 20) + '...' : 'Nicht vorhanden' }}
            </span>
          </div>
          <div class="debug-item">
            <span class="debug-label">Benutzer:</span>
            <span class="debug-value">
              {{ currentUser?.username || 'Nicht verfügbar' }}
            </span>
          </div>
        </div>
      </div>
    </section>
  </main>
</div>